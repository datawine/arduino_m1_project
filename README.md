# arduino_m1_project

## 设计方案

整个系统由一个主服务器和若干具体客户服务器组成。
因为arduino要求每个ino文件在相同名字的文件夹下，所以四个文件夹

### M1卡的结构
现在的设计是

- date_blockaddr：块4，用于存储卡的有效日期
  - 起始日期：4个字节
  - 终止日期：4个字节
- stu_info：块5-6，用于存储学生信息，学生信息包括：
  - 姓名：12个字节 块5（7个字节存储内容，一个字节扩展信息）
  - 性别：1个字节
  - 类别：1个字节
  - 院系：9个字节 块6
  - 学号：5个字节（存储的时候在前面补0，用大端序）
- money_sum：块8，用于存储零钱信息
  - 零钱总数：8个字节
  - 消费记录条数（因为需要保存最多5条储值或消费记录）：1个字节
- money_record_block：块9-10，12-14记录格式
  - 类型 （充值/消费）：1个字节
  - 消费金额：4个字节
  - 消费地点：3个字节

### 主服务器

用于存储各种信息。

### 客户服务器

#### 制作新卡、注销、和注册

这个服务器需要实时向主服务器更新程序

#### 门禁控制

#### 零钱包

